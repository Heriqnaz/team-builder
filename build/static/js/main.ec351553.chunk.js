(this["webpackJsonpteam-builder"]=this["webpackJsonpteam-builder"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),s=n.n(o),c=(n(84),n(8)),i=n(9),l=n(11),u=n(10),m=(n(85),n(86),n(16)),p=n(6),h=n(28),d=n(7),f=n(15),E=n.n(f),g="https://picsart-bootcamp-2020-api.herokuapp.com/api/v1/";function v(e){return{type:"COMPANIES_ARE_LOADING",companiesIsLoading:e}}function b(e){return{type:"REGISTER_HAVE_ERROR",registerHasError:e}}function N(e){return{type:"REGISTER_ARE_LOADING",registerIsLoading:e}}function y(e){return{type:"LOGIN_HAVE_ERROR",loginHasError:e}}function O(e){return{type:"USER_ARE_LOADING",userIsLoading:e}}function S(e){return{type:"LOGIN_ARE_LOADING",loginIsLoading:e}}function C(e){return{type:"USER_FETCH_DATA_SUCCESS",user:e}}function I(e){return{type:"SET_TOKEN_SUCCESS",token:e}}function j(e,t){return function(n){n(N(!0)),E.a.post("".concat(g,"users/register"),e).then((function(e){if(200!==e.status)throw Error(e.statusText);return n(N(!1)),e})).then((function(e){return t("/login")})).catch((function(){return n(b(!0))}))}}function k(){return function(e){e(O(!0)),E.a.get("".concat(g,"users"),{headers:{token:localStorage.getItem("token")}}).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(O(!1)),t})).then((function(t){e(I(localStorage.getItem("token"))),e(C(t.data))})).catch((function(){return e(y(!0))}))}}var A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={fields:{password:"",email:""},fieldErrors:{}},e.onFormSubmit=function(t){t.preventDefault(),e.props.login(e.state.fields,e.props.history.push),e.setState({fields:{password:"",email:""}})},e.onInputChange=function(t){var n=Object(h.a)({},e.state.fields),r=t.target.name;n[t.target.name]=t.target.value,e.setState({fields:n},(function(){e.validate(r)}))},e.validate=function(t){var n=Object(h.a)({},e.state.fieldErrors);"email"!==t||e.validateEmail(e.state.fields[t])?(n[t]="",e.setState({fieldErrors:n})):(n[t]="Invalid ".concat(t),e.setState({fieldErrors:n}))},e.validation=function(){var t=Object(h.a)({},e.state.fields);return!t.password||!t.email},e.validateEmail=function(e){return/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@(([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},e}return Object(i.a)(n,[{key:"render",value:function(){return this.props.token||localStorage.getItem("token")?r.createElement(p.a,{to:"/home"}):r.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.createElement("h2",{className:"text-center"},"Login"),r.createElement("form",{className:"form-horizontal w-25",onSubmit:this.onFormSubmit},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label col-sm-2",htmlFor:"email"},"Email:"),r.createElement("div",{className:"col-sm-12"},r.createElement("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter email",name:"email",value:this.state.fields.email,onChange:this.onInputChange}),r.createElement("p",{className:"text-danger"},this.state.fieldErrors.email))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"control-label col-sm-2",htmlFor:"password"},"Password:"),r.createElement("div",{className:"col-sm-12"},r.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",name:"password",value:this.state.fields.password,onChange:this.onInputChange}),r.createElement("p",{className:"text-danger"},this.state.fieldErrors.password))),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"col-sm-offset-2 col-sm-10"},r.createElement("button",{type:"submit",className:"text-center btn btn-info",disabled:this.validation()},"Login")))),r.createElement("p",{className:"text-center"},"DON'T HAVE AN ACCOUNT? ",r.createElement(m.b,{to:"/register"}," REGISTER NOW ")))}}]),n}(r.Component),w=Object(d.b)((function(e){return{hasError:e.loginHaveError,isLoading:e.loginAreLoading,user:e.user,token:e.token}}),(function(e){return{login:function(t,n){return e(function(e,t){return function(n){n(S(!0)),E.a.post("".concat(g,"users/login"),e).then((function(e){if(200!==e.status)throw Error(e.statusText);return n(S(!1)),e})).then((function(e){console.log("response.data",e.data),localStorage.setItem("token",e.data.token),t("/home"),n(I(e.data.token)),n(C(e.data))})).catch((function(){return n(y(!0))}))}}(t,n))}}}))(A);function T(e){return{type:"TEAMS_ARE_LOADING",teamsIsLoading:e}}var x=n(121),_=n(123),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={newTopicName:""},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getTeamsData()}},{key:"render",value:function(){return this.props.token||localStorage.getItem("token")?r.createElement("div",null,this.props.teamsIsLoading?r.createElement("div",{className:"spinner-border text-primary m-auto"}):this.props.teams&&this.props.teams.length&&this.props.teams.map((function(e){return r.createElement(x.a,{className:"text-center",key:e.id},r.createElement(x.a.Header,null,e.name),r.createElement(x.a.Body,null,r.createElement(x.a.Title,null,e.topic),r.createElement(x.a.Text,null,"Members :",r.createElement(_.a,null,e.members&&e.members.length&&e.members.map((function(e){return r.createElement(_.a.Item,{variant:"info",key:e.firstName+Math.floor(100*Math.random())},"".concat(e.firstName," ").concat(e.lastName))}))))))}))):r.createElement(p.a,{to:"/login"})}}]),n}(r.Component),L=Object(d.b)((function(e){return{teams:e.teams,teamsIsLoading:e.teamsIsLoading,token:e.token}}),(function(e){return{getTeamsData:function(){return e((function(e){e(T(!0)),E.a.get("".concat(g,"teams"),{headers:{token:localStorage.getItem("token")}}).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(T(!1)),t})).then((function(t){return e(function(e){return{type:"TEAMS_FETCH_DATA_SUCCESS",teams:e}}(t.data))})).catch((function(){return e({type:"TEAMS_HAVE_ERROR",teamsHasError:!0})}))}))}}}))(D),R=n(120),H=n(117),U=n(119),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleLogout=function(){e.props.logout(e.props.history.push)},e}return Object(i.a)(n,[{key:"render",value:function(){return this.props.token||localStorage.getItem("token")?r.createElement(R.a,{bg:"light",expand:"lg"},r.createElement(R.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.createElement(R.a.Collapse,{id:"basic-navbar-nav"},r.createElement(H.a,{className:"mr-auto"},r.createElement(m.c,{to:"/home",activeClassName:"active",className:"nav-link"},"Home"),r.createElement(m.c,{to:"/topics",activeClassName:"active",className:"nav-link"},"Topics"),r.createElement(m.c,{to:"/projects",activeClassName:"active",className:"nav-link"},"Projects")),r.createElement(U.a,{title:this.props.user.avatarUrl?r.createElement("div",{className:"pull-left"},r.createElement("img",{className:"thumbnail-image",src:this.props.user.avatarUrl,alt:"user pic"})):r.createElement("div",null),id:"basic-nav-dropdown",className:"pl-5"},r.createElement(m.c,{className:"dropdown-item",to:"/profile"},"Profile"),r.createElement(U.a.Item,{className:"dropdown-item",to:"/logout",onClick:this.handleLogout},"Logout")))):r.createElement(p.a,{to:"/login"})}}]),n}(r.Component),F=Object(p.g)(Object(d.b)((function(e){return{user:e.user,token:e.token}}),(function(e){return{logout:function(t){return e(function(e){return function(t){E.a.get("".concat(g,"users/logout"),{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return e})).then((function(n){localStorage.removeItem("token"),t(I("")),e("/login"),t(C({}))})).catch((function(){return t(y(!0))}))}}(t))}}}))(B)),M=n(40),P=n(74),G=n.n(P),V=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).setUserData=function(){if(r.props.userData&&r.props.userData.firstName){var e=Object(h.a)({},r.props.userData);r.setState({fields:e})}},r.onFormSubmit=function(e){e.preventDefault();var t=Object(h.a)({},r.state.fields);(0===Object.entries(r.state.errors).length||(!r.props.userData||0===Object.entries(r.props.userData).length||r.state.errors.password)&&r.props.userData&&0!==Object.entries(r.props.userData).length)&&(console.log("777777777777777",t),console.log("errors",r.state.errors),r.setState({fields:t}),r.props.onSubmit(r.state.fields),r.props.userData&&0!==Object.entries(r.props.userData).length?r.setUserData():r.setState({fields:{firstName:"",lastName:"",email:"",password:"",birthDate:"",sex:"male",avatarUrl:"",jsExperience:0,reactExperience:0,companyId:1}}))},r.validation=function(){var e=r.state.fields,t=r.state.errors,n=Object.keys(t).filter((function(e){return t[e]}));return!e.firstName||(!e.lastName||(!e.avatarUrl||(!e.sex||(!e.companyId||(!e.email||(!e.birthDate||(!(e.password||r.props.userData&&0!==Object.entries(r.props.userData).length)||(!e.jsExperience&&0!==e.jsExperience||(!e.reactExperience&&0!==e.reactExperience||!!n.length)))))))))},r.state={fields:{firstName:"",lastName:"",email:"",password:"",birthDate:"",sex:"male",avatarUrl:"",jsExperience:0,reactExperience:0,companyId:1},fieldErrors:{},errors:{}},r.form=new G.a(Object(M.a)(r)),r.form.useRules({firstName:"required",lastName:"required",email:"required|email",password:"required",birthDate:"required",sex:"required",avatarUrl:"required|url",jsExperience:"required|numeric|min:0",reactExperience:"required|numeric",companyId:"required"}),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getCompanies(),this.setUserData()}},{key:"render",value:function(){return r.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},this.props.registerIsLoading?r.createElement("div",{className:"loader"},r.createElement("div",{className:"spinner-border text-primary"})):r.createElement("div",null),r.createElement("form",{className:"form-horizontal",onSubmit:this.onFormSubmit},r.createElement("div",{className:"form-group row"},r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"firstName"},"First Name:"),r.createElement("input",{type:"text",name:"firstName",className:"form-control",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.firstName}),r.createElement("p",{className:"text-danger"},this.state.errors.firstName)),r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"lastName"},"Last Name:"),r.createElement("input",{type:"text",name:"lastName",className:"form-control",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.lastName}),r.createElement("p",{className:"text-danger"},this.state.errors.lastName))),r.createElement("div",{className:"form-group row"},r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"avatarUrl"},"Avatar URL:"),r.createElement("input",{type:"text",name:"avatarUrl",className:"form-control",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.avatarUrl}),r.createElement("p",{className:"text-danger"},this.state.errors.avatarUrl)),r.createElement("div",{className:"col-6"},r.createElement("label",{htmlFor:"sel1"},"Sex:"),r.createElement("select",{className:"form-control",id:"sex",name:"sex",value:this.state.fields.sex,onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent},r.createElement("option",{value:"male"},"Male"),r.createElement("option",{value:"female"},"Female")))),r.createElement("div",{className:"form-group row"},r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"avatarUrl"},"Birth Date:"),r.createElement("br",null),r.createElement("input",{className:"form-control col-12",type:"date",name:"birthDate",onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent,value:this.state.fields.birthDate}),r.createElement("p",{className:"text-danger"},this.state.errors.birthDate)),r.createElement("div",{className:"col-6"},r.createElement("label",{htmlFor:"sel1"},"Company:"),r.createElement("select",{className:"form-control",id:"companyId",name:"companyId",value:this.state.fields.companyId,onChange:this.form.handleChangeEvent,onBlur:this.form.handleBlurEvent},this.props.companiesIsLoading?r.createElement("option",null,"Loading\u2026"):this.props.companies.map((function(e){return r.createElement("option",{value:e.id,key:e.id},e.name)}))))),r.createElement("div",{className:"form-group row"},r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"password"},"Js Experience:"),r.createElement("input",{min:"0",type:"number",name:"jsExperience",className:"form-control",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.jsExperience}),r.createElement("p",{className:"text-danger"},this.state.errors.jsExperience)),r.createElement("div",{className:"col-6"},r.createElement("label",{className:"control-label",htmlFor:"password"},"React Experience:"),r.createElement("input",{min:"0",type:"number",name:"reactExperience",className:"form-control",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.reactExperience}),r.createElement("p",{className:"text-danger"},this.state.errors.reactExperience))),r.createElement("div",{className:"form-group row"},r.createElement("div",{className:this.props.userData&&0!==Object.entries(this.props.userData).length?"col-12":"col-6"},r.createElement("label",{className:"control-label",htmlFor:"email"},"Email:"),r.createElement("input",{className:"form-control",type:"email",name:"email",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.email}),r.createElement("p",{className:"text-danger"},this.state.errors.email)),r.createElement("div",{className:this.props.userData&&0!==Object.entries(this.props.userData).length?"d-none":"col-sm-6"},r.createElement("label",{className:"control-label",htmlFor:"password"},"Password:"),r.createElement("input",{className:"form-control",type:"password",name:"password",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.password}),r.createElement("p",{className:"text-danger"},this.state.errors.password))),r.createElement("div",{className:"form-group"},r.createElement("div",{className:"col-12 text-center"},r.createElement("button",{type:"submit",className:"btn btn-info w-50",disabled:this.validation()},this.props.userData?"Save":"Register")))))}}]),n}(r.Component),q=Object(d.b)((function(e){return{companies:e.companies,companiesHaveError:e.companiesHasError,companiesIsLoading:e.companiesAreLoading,registerHaveError:e.registerHasError,registerIsLoading:e.registerAreLoading,token:e.token}}),(function(e){return{getCompanies:function(){return e((function(e){e(v(!0)),E.a.get("".concat(g,"companies")).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(v(!1)),t})).then((function(t){return e(function(e){return{type:"COMPANIES_FETCH_DATA_SUCCESS",companies:e}}(t.data))})).catch((function(){return e({type:"COMPANIES_HAVE_ERROR",companiesHasError:!0})}))}))},register:function(t){return e(j(t))}}}))(V),J=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handelSubmit=function(t){e.props.register(t,e.props.history.push)},e}return Object(i.a)(n,[{key:"render",value:function(){return this.props.token||localStorage.getItem("token")?r.createElement(p.a,{to:"/home"}):r.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.createElement("h2",{className:"text-center"},"Register"),r.createElement(q,{onSubmit:this.handelSubmit}),r.createElement("p",null,"ALREADY HAVE AN ACCOUNT! ",r.createElement(m.b,{to:"/login"}," LOGIN ")))}}]),n}(r.Component),z=Object(d.b)((function(e){return{token:e.token}}),(function(e){return{register:function(t,n){return e(j(t,n))}}}))(J);function W(e){return{type:"TOPICS_HAVE_ERROR",topicsHasError:e}}function K(e){return{type:"TOPICS_ARE_LOADING",topicsIsLoading:e}}function Z(){return function(e){e(K(!0)),E.a.get("".concat(g,"topics"),{headers:{token:localStorage.getItem("token")}}).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(K(!1)),t})).then((function(t){return e(function(e){return{type:"TOPICS_FETCH_DATA_SUCCESS",topics:e}}(t.data))})).catch((function(){return e(W(!0))}))}}var $=n(73),Y=n(118),Q=n(122),X=n(31),ee=n(32),te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={newTopicName:""},e.handelChangeTopicName=function(t){e.setState({newTopicName:t.target.value})},e.handelCreateNewTopic=function(){e.props.createNewTopic(e.state.newTopicName),e.setState({newTopicName:""})},e.handelDeleteTopic=function(t){return function(){e.props.deleteTopic(t)}},e.votedByMe=function(t,n){return function(){var r=n?"unlike":"like";e.props.voteForTopic(t,r)}},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getTopicsData()}},{key:"render",value:function(){var e=this;return this.props.token||localStorage.getItem("token")?r.createElement("div",null,r.createElement(_.a,null,this.props.topicsIsLoading?r.createElement("div",{className:"spinner-border text-primary m-auto"}):this.props.topics&&this.props.topics.length&&this.props.topics.map((function(t){return r.createElement(_.a.Item,{variant:"info",key:t.id},t.title,r.createElement($.a,{variant:t.votingsCount?"success":"danger",className:"float-right"},t.votingsCount),r.createElement($.a,{variant:t.votedByMe?"primary":"light",className:"float-right",onClick:e.votedByMe(t.id,t.votedByMe)},r.createElement(X.a,{icon:ee.b})),r.createElement($.a,{variant:"primary",className:t.canDelete?"float-right":"d-none",onClick:e.handelDeleteTopic(t.id)},r.createElement(X.a,{icon:ee.c})))}))),r.createElement(Y.a,{className:"mb-3"},r.createElement(Q.a,{placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"basic-addon2",value:this.state.newTopicName,onChange:this.handelChangeTopicName}),r.createElement(Y.a.Append,null,r.createElement($.a,{variant:"primary",disabled:!this.state.newTopicName,onClick:this.handelCreateNewTopic},r.createElement(X.a,{icon:ee.a}))))):r.createElement(p.a,{to:"/login"})}}]),n}(r.Component),ne=Object(d.b)((function(e){return{topics:e.topics,topicsIsLoading:e.topicsIsLoading,token:e.token}}),(function(e){return{getTopicsData:function(){return e(Z())},voteForTopic:function(t,n){return e(function(e,t){return function(n){n(K(!0)),E.a.post("".concat(g,"topics/").concat(e,"/voting"),{type:t},{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return n(K(!1)),e})).then((function(e){return n(Z())})).catch((function(){return n(W(!0))}))}}(t,n))},createNewTopic:function(t){return e(function(e){return function(t){t(K(!0)),E.a.post("".concat(g,"topics"),{title:e},{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return t(K(!1)),e})).then((function(e){return t(Z())})).catch((function(){return t(W(!0))}))}}(t))},deleteTopic:function(t){return e(function(e){return function(t){t(K(!0)),E.a.delete("".concat(g,"topics/").concat(e),{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return t(K(!1)),e})).then((function(e){return t(Z())})).catch((function(){return t(W(!0))}))}}(t))}}}))(te);function re(e){return{type:"PROJECTS_HAVE_ERROR",projectsHasError:e}}function ae(e){return{type:"PROJECTS_ARE_LOADING",projectsIsLoading:e}}function oe(){return function(e){e(ae(!0)),E.a.get("".concat(g,"projects"),{headers:{token:localStorage.getItem("token")}}).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(ae(!1)),t})).then((function(t){return e(function(e){return{type:"PROJECTS_FETCH_DATA_SUCCESS",projects:e}}(t.data))})).catch((function(){return e(re(!0))}))}}var se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={newTopicName:""},e.votedByMe=function(t,n){return function(){var r=n?"unlike":"like";e.props.voteForProject(t,r)}},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getProjectsData()}},{key:"render",value:function(){var e=this;return this.props.token||localStorage.getItem("token")?r.createElement("div",null,r.createElement(_.a,null,this.props.projectsIsLoading?r.createElement("div",{className:"spinner-border text-primary m-auto"}):this.props.projects&&this.props.projects.length&&this.props.projects.map((function(t){return r.createElement(_.a.Item,{variant:"info",key:t.id},t.title,r.createElement($.a,{variant:t.votedByMe?"primary":"light",className:"float-right",onClick:e.votedByMe(t.id,t.votedByMe)},r.createElement(X.a,{icon:ee.b})))})))):r.createElement(p.a,{to:"/login"})}}]),n}(r.Component),ce=Object(d.b)((function(e){return{projects:e.projects,projectsIsLoading:e.projectsIsLoading,token:e.token}}),(function(e){return{getProjectsData:function(){return e(oe())},voteForProject:function(t,n){return e(function(e,t){return function(n){n(ae(!0)),E.a.post("".concat(g,"projects/").concat(e,"/voting"),{type:t},{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return n(ae(!1)),e})).then((function(e){return n(oe())})).catch((function(){return n(re(!0))}))}}(t,n))}}}))(se),ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handelSaveUserData=function(t){delete t.password,delete t.token,e.props.updateUserData(t)},e}return Object(i.a)(n,[{key:"render",value:function(){return this.props.token||localStorage.getItem("token")?r.createElement("div",null,this.props.userIsLoading?r.createElement("div",{className:"spinner-border text-primary m-auto"}):r.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.createElement("h2",{className:"text-center"},"User Profile"),0!==Object.entries(this.props.user).length?r.createElement(q,{onSubmit:this.handelSaveUserData,userData:this.props.user}):"")):r.createElement(p.a,{to:"/login"})}}]),n}(r.Component),le=Object(d.b)((function(e){return{user:e.user,userAreLoading:e.userAreLoading,token:e.token}}),(function(e){return{updateUserData:function(t){return e(function(e){return function(t){E.a.put("".concat(g,"users/update"),e,{headers:{token:localStorage.getItem("token")}}).then((function(e){if(200!==e.status)throw Error(e.statusText);return e})).then((function(e){return t(k())})).catch((function(){return t(b(!0))}))}}(t))}}}))(ie),ue=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),r=t.call(this,e),localStorage.getItem("token")&&e.getUserInfo(),r}return Object(i.a)(n,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(F,null),a.a.createElement("div",{className:"container"},a.a.createElement(p.d,null,a.a.createElement(p.b,{path:"/login",component:w}),a.a.createElement(p.b,{path:"/register",component:z}),a.a.createElement(p.b,{exect:!0,path:"/home",component:L}),a.a.createElement(p.b,{exect:!0,path:"/topics",component:ne}),a.a.createElement(p.b,{exect:!0,path:"/projects",component:ce}),a.a.createElement(p.b,{exect:!0,path:"/profile",component:le}),a.a.createElement(p.b,{exect:!0,path:"/",render:function(){return a.a.createElement(p.a,{to:"/home"})}}))))}}]),n}(a.a.Component),me=Object(d.b)((function(e){return{user:e.user,token:e.token}}),(function(e){return{getUserInfo:function(){return e(k())}}}))(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=n(27),he=n(75);var de=Object(pe.c)({companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_FETCH_DATA_SUCCESS":return t.companies;default:return e}},companiesHaveError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_HAVE_ERROR":return t.companiesHasError;default:return e}},companiesAreLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANIES_ARE_LOADING":return t.companiesIsLoading;default:return e}},loginAreLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ARE_LOADING":return t.loginIsLoading;default:return e}},loginHaveError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_HAVE_ERROR":return t.loginHasError;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_FETCH_DATA_SUCCESS":return t.user;default:return e}},registerHaveError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_HAVE_ERROR":return t.registerHasError;default:return e}},registerAreLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_ARE_LOADING":return t.registerIsLoading;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN_SUCCESS":return t.token;default:return e}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOPICS_FETCH_DATA_SUCCESS":return t.topics;default:return e}},topicsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOPICS_ARE_LOADING":return t.topicsIsLoading;default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECTS_FETCH_DATA_SUCCESS":return t.projects;default:return e}},projectsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECTS_ARE_LOADING":return t.projectsIsLoading;default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEAMS_FETCH_DATA_SUCCESS":return t.teams;default:return e}},teamsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEAMS_ARE_LOADING":return t.teamsIsLoading;default:return e}},userAreLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ARE_LOADING":return t.userIsLoading;default:return e}}});var fe=function(e){var t=Object(pe.a)(he.a);return Object(pe.d)(de,e,t)}();s.a.render(a.a.createElement(d.a,{store:fe},a.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,n){e.exports=n(112)},84:function(e,t,n){},86:function(e,t,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.ec351553.chunk.js.map